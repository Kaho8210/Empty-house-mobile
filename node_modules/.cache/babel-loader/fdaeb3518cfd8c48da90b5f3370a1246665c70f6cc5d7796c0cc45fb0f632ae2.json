{"ast":null,"code":"import _slicedToArray from \"/Users/kahoshirai/Mantine_demo_2_23/my-mantine-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useState, useEffect } from 'react';\nimport { autoUpdate } from '@floating-ui/react';\nimport { useDidUpdate } from '@mantine/hooks';\nfunction useFloatingAutoUpdate(_ref) {\n  var opened = _ref.opened,\n    floating = _ref.floating,\n    positionDependencies = _ref.positionDependencies;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    delayedUpdate = _useState2[0],\n    setDelayedUpdate = _useState2[1];\n  useEffect(function () {\n    if (floating.refs.reference.current && floating.refs.floating.current) {\n      return autoUpdate(floating.refs.reference.current, floating.refs.floating.current, floating.update);\n    }\n    return void 0;\n  }, [floating.refs.reference, floating.refs.floating, opened, delayedUpdate]);\n  useDidUpdate(function () {\n    floating.update();\n  }, positionDependencies);\n  useDidUpdate(function () {\n    setDelayedUpdate(function (c) {\n      return c + 1;\n    });\n  }, [opened]);\n}\nexport { useFloatingAutoUpdate };","map":{"version":3,"names":["useFloatingAutoUpdate","_ref","opened","floating","positionDependencies","_useState","useState","_useState2","_slicedToArray","delayedUpdate","setDelayedUpdate","useEffect","refs","reference","current","autoUpdate","update","useDidUpdate","c"],"sources":["/Users/kahoshirai/Mantine_demo_2_23/my-mantine-app/node_modules/@mantine/core/src/Floating/use-floating-auto-update.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { autoUpdate } from '@floating-ui/react';\nimport { useDidUpdate } from '@mantine/hooks';\n\ninterface Payload {\n  opened: boolean;\n  floating: {\n    update(): void;\n    refs: {\n      floating: React.MutableRefObject<any>;\n      reference: React.MutableRefObject<any>;\n    };\n  };\n  positionDependencies: any[];\n}\n\nexport function useFloatingAutoUpdate({ opened, floating, positionDependencies }: Payload) {\n  const [delayedUpdate, setDelayedUpdate] = useState(0);\n\n  useEffect(() => {\n    if (floating.refs.reference.current && floating.refs.floating.current) {\n      return autoUpdate(\n        floating.refs.reference.current,\n        floating.refs.floating.current,\n        floating.update\n      );\n    }\n\n    return undefined;\n  }, [floating.refs.reference, floating.refs.floating, opened, delayedUpdate]);\n\n  useDidUpdate(() => {\n    floating.update();\n  }, positionDependencies);\n\n  useDidUpdate(() => {\n    setDelayedUpdate((c) => c + 1);\n  }, [opened]);\n}\n"],"mappings":";;;;AAGO,SAASA,qBAAqBA,CAAAC,IAAA,EAA6C;EAAA,IAA1CC,MAAM,GAAAD,IAAA,CAANC,MAAM;IAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IAAEC,oBAAoB,GAAAH,IAAA,CAApBG,oBAAoB;EAC5E,IAAAC,SAAA,GAA0CC,QAAQ,CAAC,CAAC,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA;IAA9CI,aAAa,GAAAF,UAAA;IAAEG,gBAAgB,GAAAH,UAAA;EACtCI,SAAS,CAAC,YAAM;IACd,IAAIR,QAAQ,CAACS,IAAI,CAACC,SAAS,CAACC,OAAO,IAAIX,QAAQ,CAACS,IAAI,CAACT,QAAQ,CAACW,OAAO,EAAE;MACrE,OAAOC,UAAU,CAACZ,QAAQ,CAACS,IAAI,CAACC,SAAS,CAACC,OAAO,EAAEX,QAAQ,CAACS,IAAI,CAACT,QAAQ,CAACW,OAAO,EAAEX,QAAQ,CAACa,MAAM,CAAC;IACzG;IACI,OAAO,KAAK,CAAC;EACjB,CAAG,EAAE,CAACb,QAAQ,CAACS,IAAI,CAACC,SAAS,EAAEV,QAAQ,CAACS,IAAI,CAACT,QAAQ,EAAED,MAAM,EAAEO,aAAa,CAAC,CAAC;EAC5EQ,YAAY,CAAC,YAAM;IACjBd,QAAQ,CAACa,MAAM,EAAE;EACrB,CAAG,EAAEZ,oBAAoB,CAAC;EACxBa,YAAY,CAAC,YAAM;IACjBP,gBAAgB,CAAC,UAACQ,CAAC;MAAA,OAAKA,CAAC,GAAG,CAAC;IAAA,EAAC;EAClC,CAAG,EAAE,CAAChB,MAAM,CAAC,CAAC;AACd"},"metadata":{},"sourceType":"module","externalDependencies":[]}